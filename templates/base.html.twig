<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>
		<link
		rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
		{# Run`composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
		{% block stylesheets %}
			{# {{ encore_entry_link_tags('app') }} #}
		{% endblock %}

		{% block javascripts %}
			{# {{ encore_entry_script_tags('app') }} #}
		{% endblock %}
		<style>
			@import url("");
			@media only screen and(min-width: 900px) {

				.add-shadow {
					box-shadow: rgba(196, 196, 196, 0.8) 0 -4px 20px 10px
				}
			}

			.spacer {
				margin-top: 8vh;
			}

			#btn-back-to-top {
				position: fixed;
				bottom: 20px;
				right: 20px;
				display: none;
			}
		</style>
	</head>
	<body style="background:#C4C4C4;color:#121212">

		<nav class="navbar navbar-expand-lg navbar-dark bg-dark bg-gradient text-white-50 fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="/">JeansStore</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="/products">products</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Profile
							</a>
							<ul class="dropdown-menu dropdown-menu-dark add-shadow" aria-labelledby="navbarDarkDropdownMenuLink">
								{% if app.user %}
									<li>
										<a class="dropdown-item" href="/logout">logout</a>
									</li>
									<li>
										<a class="dropdown-item" href="/profile">edit</a>
									</li>

									{% if "ROLE_ADMIN"  in app.user.getRoles()%}

										<li>
											<a class="dropdown-item" href="/admin">admin panel</a>
										</li>
									{% endif %}
								{% else %}
									<li>
										<a class="dropdown-item" href="/login">login</a>
									</li>
									<li>
										<a class="dropdown-item" href="/register">register</a>
									</li>

								{% endif %}
							</ul>
						</li>

					</ul>
					<form class="d-flex" id="search">
						{# <input class="form-control form-control-sm mr-sm-2" type="search" placeholder="Code postal..." aria-label="Search"> #}
						{# <button class="btn btn-outline-primary btn-sm my-2 my-sm-0" type="submit">Search</button> #}
						{# <a href="{{ path('search', {'product': 4}) }}"> <i class="fa fa-search"></i> {{ 'menu.search'|trans }}</a> #}
					</form>
				</div>
			</div>
		</nav>
		<div class="spacer"></div>
		{% block body %}{% endblock %}

		<input type="button" class=" btn-floating btn-lg" id="btn-back-to-top" value="▲"></body>
	</body>
	<script type="text/javascript">

		document.getElementById("SearchButton").addEventListener("click", () =>
		{
			const route = "{{ path('search', {product: '3'}) |escape('js') }}"
			Routing.generate(route)
		})

		let mybutton = document.getElementById("btn-back-to-top");

		// When the user scrolls down 20px from the top of the document, show the button
		window.onscroll = function () {
			scrollFunction();
		};

		function scrollFunction() {
			if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
				mybutton.style.display = "block";
			} else {
				mybutton.style.display = "none";
			}
		}
		// When the user clicks on the button, scroll to the top of the document
		mybutton.addEventListener("click", backToTop);

		function backToTop() {
			document.body.scrollTop = 0;
			document.documentElement.scrollTop = 0;
		}

		window.addEventListener('scroll', (e) => {
		const nav = document.querySelector('.navbar');
		if (window.pageYOffset > 0) {
		nav.classList.add("add-shadow");
		} else {
		nav.classList.remove("add-shadow");
		}
		});

	</script>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script></html>
</html>